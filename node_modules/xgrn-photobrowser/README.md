XGPhotoBrowser

RN图片全屏预览库

安装
私有库操作
nrm ls
如果提示nrm命令不存在,如下操作

npm install -g nrm
然后增加私有库地址并使用:


nrm add xgnpm  http://172.16.2.71:4873/
nrm use xgnpm
npm install
安装依赖
$ yarn add xgrn-photobrowser
$ react-native link xgrn-photobrowser
库升级
$ npm update xgrn-photobrowser

项目配置
Android
确保gradle版本在3.1.1 或以上
(classpath 'com.android.tools.build:gradle:3.1.1')
xxx

iOS

在原生项目的podfile中加入

pod 'XGPhotoBrowser'

并执行
pod install

如果发现找不到XGPhotoBrowser的话请更新ops-xgn-ios-xgn这个repo
pod repo update ops-xgn-ios-xgn

JS调用图片通了预览库示例
参数解释：
imageUrls:[urls], 必传参数 数组，高清图片的url地址
startIndex:NSInteger,可选 默认显示的页数，默认0
localImages:[Image],可选参数 JS端目前不用，原生调用时可直接传图片对象数组
startFrame:{x:,y:,width:height:} 可选参数 动画起始位置
PCDefaultImageName:String, 可选参数 分页指示标的默认图片名称
PCCurrentImageName:String} 可选参数 分页指示标的选中图片名称

_showPhotoBrowser = ()=>{
        let array = [];
        array[0] = 'http://g.hiphotos.baidu.com/image/pic/item/cf1b9d16fdfaaf519d4aa2db805494eef01f7a2c.jpg';
        array[1] = 'http://c.hiphotos.baidu.com/image/pic/item/b21c8701a18b87d65d3311770b0828381f30fd61.jpg';
        array[2] = 'http://d.hiphotos.baidu.com/image/pic/item/bd3eb13533fa828b7d666185f11f4134970a5a0b.jpg';
        array[3] = 'http://g.hiphotos.baidu.com/image/pic/item/1e30e924b899a9011a42d55e11950a7b0208f567.jpg';
        array[4] = 'http://h.hiphotos.baidu.com/image/pic/item/a71ea8d3fd1f41344002e11a291f95cad1c85e99.jpg';
        let params = {'imageUrls':array,'startIndex':'3'};
        PhotoBrowser.showPhotoBrowserWithParams(params);
    }






