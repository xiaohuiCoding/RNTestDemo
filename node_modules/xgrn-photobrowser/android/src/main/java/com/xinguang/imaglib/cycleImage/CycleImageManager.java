package com.xinguang.imaglib.cycleImage;

import com.facebook.react.uimanager.SimpleViewManager;
import com.facebook.react.uimanager.ThemedReactContext;
import com.facebook.react.uimanager.annotations.ReactProp;
import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by lingwang on 2018/4/20.
 */

public class CycleImageManager extends SimpleViewManager<CycleImageView> {
    public static final String REACT_CLASS = "CycleViewDetails";

    @Override
    public String getName() {
        return REACT_CLASS;
    }

    @Override
    protected CycleImageView createViewInstance(ThemedReactContext reactContext) {
        return new CycleImageView(reactContext);
    }

    //设置图片集合
    @ReactProp(name = "pics")
    public void setPics(CycleImageView cycleViewDetails, String pics) {
        ArrayList<String> kkk = new Gson().fromJson(pics, new TypeToken<List<String>>() {
        }.getType());
        cycleViewDetails.setCycleDatas(null, kkk, null);
    }
}
