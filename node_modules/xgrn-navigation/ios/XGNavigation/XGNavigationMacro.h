//
//  XGNavigationMacro.h
//  XGNavigation
//
//  Created by nuomi on 2018/3/6.
//  Copyright © 2018年 demo. All rights reserved.
//  定义了一些常用宏

#ifndef XGNavigationMacro_h
#define XGNavigationMacro_h

#if __OBJC__
#import <Foundation/Foundation.h>
#import <UIKit/UIKit.h>
#endif

// 定义js回调block，block内部注意一定使用__weak 弱引用VC
typedef void(^JSCallBackBlock)(NSDictionary * info);

// 防空值检测 marco
#define XGSafeString(str) (str && [str isKindOfClass:[NSString class]] && ((NSString *)str).length)
#define XGSafeNumber(number) (number && [number isKindOfClass:[NSNumber class]])
#define XGSafeArray(array) (array && [array isKindOfClass:[NSArray class]] && ((NSArray *)array).count)
#define XGSafeDictionary(dict) (dict && [dict isKindOfClass:[NSDictionary class]] && ((NSDictionary *)dict).allKeys && ((NSDictionary *)dict).allKeys.count)
#define XGSafeColor(color) (color && [color isKindOfClass:[UIColor class]])
#define XGSafeImage(image) (image && [image isKindOfClass:[UIImage class]])


// 异步安全的主线程调用，可以防止主线程中进行异步主线程调用 marco
#define xg_dispatch_main_async_safe(block)\
if ([NSThread isMainThread]) {\
block();\
} else {\
dispatch_async(dispatch_get_main_queue(), block);\
}


// devices marco
#define IS_IPHONE (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)
#define IS_IPAD (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
#define SCREEN_WIDTH ([[UIScreen mainScreen] bounds].size.width)
#define SCREEN_HEIGHT ([[UIScreen mainScreen] bounds].size.height)
#define SCREEN_MAX_LENGTH (MAX(SCREEN_WIDTH, SCREEN_HEIGHT))
#define SCREEN_MIN_LENGTH (MIN(SCREEN_WIDTH, SCREEN_HEIGHT))

#define IS_IPHONE_4_OR_LESS (IS_IPHONE && SCREEN_MAX_LENGTH < 568.0)
#define IS_IPHONE_5 (IS_IPHONE && SCREEN_MAX_LENGTH == 568.0)
#define IS_IPHONE_6 (IS_IPHONE && SCREEN_MAX_LENGTH == 667.0)
#define IS_IPHONE_6P (IS_IPHONE && SCREEN_MAX_LENGTH == 736.0)
#define IS_IPHONE_X (IS_IPHONE && SCREEN_MIN_LENGTH == 375.00 && SCREEN_MAX_LENGTH == 812.0)

#define IS_IPAD_BIG (IS_IPAD && [UIScreen mainScreen].scale == 2.0)
#define IS_IPAD_SMALL (IS_IPAD && [UIScreen mainScreen].scale == 1.0)

#endif /* XGNavigationMacro_h */
